<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">Ports of Call</h3>
	</div>
	<div class="panel-body">
		<div class="embed-responsive embed-responsive-map">
			<%= content_tag :iframe, nil, src: maps_cruise_path(@cruise), class: 'embed-responsive-item' %>
		</div>
	</div>

	<div class="table-responsive">
		<table class="table table-striped table-condensed">
			<thead>
				<tr>
					<th>Port</th>
					<th>Arrival</th>
					<th>Departure</th>
				</tr>
			</thead>
			<tbody>
				<% @cruise.port_of_calls.each_with_index do |poc, index| -%>

				<%= content_tag :tr, class: 'port-of-call', data: {index: index} do -%>
				<td>
					<%= link_to poc.port.name, poc.port, data: {toggle: :modal, target: '#defaultModal'} -%>
				</td>
				<td><%= poc == @cruise.port_of_calls.first ? '-' : poc.arrives_at.to_formatted_s(:custom_long_ordinal) -%></td>
				<td><%= poc == @cruise.port_of_calls.last ? '-' : poc.departs_at.to_formatted_s(:custom_long_ordinal) -%></td>
				<% end -%>

				<% end -%>
			</tbody>
		</table>
	</div>
</div>
